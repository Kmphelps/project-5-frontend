(this["webpackJsonptest-resource-mgr"]=this["webpackJsonptest-resource-mgr"]||[]).push([[0],{19:function(e,t,n){},20:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(12),s=n.n(c),o=(n(19),n(3)),u=(n(20),n(0));var l=function(e){var t=e.login,n=e.signup,r=Object(a.useState)(""),c=Object(o.a)(r,2),s=c[0],l=c[1],i=Object(a.useState)(""),j=Object(o.a)(i,2),h=j[0],p=j[1],f=Object(a.useState)(""),b=Object(o.a)(f,2),d=b[0],m=b[1],O=Object(a.useState)(""),g=Object(o.a)(O,2),x=g[0],v=g[1],y=Object(a.useState)(""),N=Object(o.a)(y,2),C=N[0],S=N[1];return Object(u.jsxs)("container",{className:"landing-page-container",children:[Object(u.jsx)("h1",{children:"TEST RESOURCE MANAGER"}),Object(u.jsxs)("form",{className:"login-form",onSubmit:function(e){return function(e){e.preventDefault(),t(s,h)}(e)},children:[Object(u.jsx)("h3",{children:"Login Here"}),Object(u.jsx)("input",{placeholder:"Enter a username",type:"text",value:s,onChange:function(e){return l(e.target.value)}}),Object(u.jsx)("input",{placeholder:"Enter a password",type:"text",value:h,onChange:function(e){return p(e.target.value)}}),Object(u.jsx)("button",{type:"submit",children:"Login"})]}),Object(u.jsxs)("form",{className:"signup-form",onSubmit:function(e){return function(e){e.preventDefault(),n(d,x,C)}(e)},children:[Object(u.jsx)("h3",{children:"Create a New Account Here"}),Object(u.jsx)("input",{placeholder:"Enter a username",type:"text",value:d,onChange:function(e){return m(e.target.value)}}),Object(u.jsx)("input",{placeholder:"Enter a password",type:"text",value:x,onChange:function(e){return v(e.target.value)}}),Object(u.jsx)("input",{placeholder:"Link to an avatar",type:"text",value:C,onChange:function(e){return S(e.target.value)}}),Object(u.jsx)("button",{type:"submit",children:"Signup"})]})]})},i=n.p+"static/media/pexels-alex-andrews.a5a3c6e5.jpg",j=n(6);var h=function(e){e.currentUser;var t=e.feature;return Object(u.jsxs)("container",{className:"feature-card",children:[Object(u.jsxs)("h2",{children:["Assignment: ",t.name]}),Object(u.jsx)("img",{className:"feature-image",src:i,alt:"feature image"}),Object(u.jsxs)("h3",{children:["Test Status: ",t.test_status]}),Object(u.jsxs)("h3",{children:["Priority: ",t.priority]}),Object(u.jsx)(j.b,{to:"/features/".concat(t.id),children:Object(u.jsx)("button",{type:"button",children:"Resources"})}),Object(u.jsx)("button",{children:"Share"})]})};var p=function(e){var t=e.currentUser,n=Object(a.useState)([]),r=Object(o.a)(n,2),c=r[0],s=r[1];return Object(a.useEffect)((function(){var e=localStorage.getItem("jwt");fetch("http://localhost:3000/features",{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){e.ok?e.json().then((function(e){s(e),console.log({currentUser:t})})):console.log("please log in")}))}),[]),Object(u.jsx)("container",{className:"dashboard-container",children:c.map((function(e){return Object(u.jsx)(h,{feature:e},e.id)}))})};var f=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],r=t[1];return Object(u.jsxs)("container",{className:"add-new-feature-container",children:[Object(u.jsx)("h1",{children:"Add a Feature or Project"}),Object(u.jsxs)("form",{className:"feature-form",children:[Object(u.jsx)("input",{className:"feature-form-inputs",placeholder:"Name of feature or project",type:"text",value:n,onChange:function(e){return r(e.target.value)}}),Object(u.jsx)("input",{className:"feature-form-inputs",placeholder:"Link to wireframes",type:"text",value:n,onChange:function(e){return r(e.target.value)}}),Object(u.jsx)("input",{className:"feature-form-inputs",placeholder:"Link to test suite",type:"text",value:n,onChange:function(e){return r(e.target.value)}}),Object(u.jsx)("input",{className:"feature-form-inputs",placeholder:"List all resources that you'll need access to",type:"text",value:n,onChange:function(e){return r(e.target.value)}}),Object(u.jsx)("input",{className:"feature-form-inputs",placeholder:"Which test framework are you using? Language?",type:"text",value:n,onChange:function(e){return r(e.target.value)}}),Object(u.jsx)("input",{className:"feature-form-inputs",placeholder:"Link to project management resources",type:"text",value:n,onChange:function(e){return r(e.target.value)}}),Object(u.jsx)("input",{className:"feature-form-inputs",placeholder:"What is the priority of this feature or project?",type:"text",value:n,onChange:function(e){return r(e.target.value)}}),Object(u.jsx)("input",{className:"feature-form-inputs",placeholder:"What is the test status?",type:"text",value:n,onChange:function(e){return r(e.target.value)}}),Object(u.jsx)("button",{type:"submit",children:"Create"})]})]})},b=n(2);var d=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)({data:null,error:null,status:"pending"}),s=Object(o.a)(c,2),l=s[0],i=(l.data,l.error,l.status,s[1]),j=Object(b.e)().id;return Object(a.useEffect)((function(){var e=localStorage.getItem("jwt");fetch("http://localhost:3000/features/".concat(j),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){e.ok?e.json().then((function(e){i({data:e,error:null,status:"resolved"})})):console.log("please log in")}))}),[j]),Object(u.jsxs)("container",{className:"resource-container",children:[Object(u.jsxs)("container",{className:"update-feature-container",children:[Object(u.jsx)("h2",{children:"Update Info"}),Object(u.jsx)("container",{children:Object(u.jsxs)("form",{className:"feature-form",children:[Object(u.jsx)("input",{className:"feature-form-inputs",placeholder:"Name of feature or project",type:"text",value:n,onChange:function(e){return r(e.target.value)}}),Object(u.jsx)("input",{className:"feature-form-inputs",placeholder:"Link to wireframes",type:"text",value:n,onChange:function(e){return r(e.target.value)}}),Object(u.jsx)("input",{className:"feature-form-inputs",placeholder:"Link to test suite",type:"text",value:n,onChange:function(e){return r(e.target.value)}}),Object(u.jsx)("input",{className:"feature-form-inputs",placeholder:"List all resources that you'll need access to",type:"text",value:n,onChange:function(e){return r(e.target.value)}}),Object(u.jsx)("input",{className:"feature-form-inputs",placeholder:"Which test framework are you using? Language?",type:"text",value:n,onChange:function(e){return r(e.target.value)}}),Object(u.jsx)("input",{className:"feature-form-inputs",placeholder:"Link to project management resources",type:"text",value:n,onChange:function(e){return r(e.target.value)}}),Object(u.jsx)("input",{className:"feature-form-inputs",placeholder:"What is the priority of this feature or project?",type:"text",value:n,onChange:function(e){return r(e.target.value)}}),Object(u.jsx)("input",{className:"feature-form-inputs",placeholder:"What is the test status?",type:"text",value:n,onChange:function(e){return r(e.target.value)}}),Object(u.jsx)("button",{type:"submit",children:"Create"})]})})]}),Object(u.jsx)("container",{className:"messages-container",children:Object(u.jsx)("h2",{children:"Messages"})})]})};var m=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),s=Object(o.a)(c,2),i=s[0],h=s[1];return Object(a.useEffect)((function(){var e=localStorage.getItem("jwt");console.log("token: "+e),fetch("http://localhost:3000/profile",{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){e.ok?e.json().then((function(e){h(!0),r(e.user)})):console.log("please log in")}))}),[]),Object(u.jsx)("div",{className:"App",children:i?Object(u.jsxs)(j.a,{children:[Object(u.jsxs)("nav",{className:"navbar-container",children:[n?Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:"TEST RESOURCE MANAGER"}),Object(u.jsxs)("h1",{children:["Hi ",n.username]}),Object(u.jsx)("img",{src:n.avatar,className:"avatar",alt:"avatar"})]}):"",Object(u.jsx)(j.b,{to:"/",children:Object(u.jsx)("button",{className:"nav-button",type:"button",children:"Dashboard"})}),Object(u.jsx)(j.b,{to:"/featureform",children:Object(u.jsx)("button",{className:"nav-button",type:"button",children:"Add a New Feature"})}),Object(u.jsx)("button",{className:"nav-button",onClick:function(){localStorage.clear(),r(null),h(!1)},children:"Logout"}),Object(u.jsx)("p",{className:"footer-sources",children:"Photo by Alex Andrews from Pexels"})]}),Object(u.jsx)(b.a,{exact:!0,path:"/",children:Object(u.jsx)(p,{currentUser:n})}),Object(u.jsx)(b.a,{exact:!0,path:"/featureform",children:Object(u.jsx)(f,{currentUser:n})}),Object(u.jsx)(b.a,{exact:!0,path:"/features/:id",children:Object(u.jsx)(d,{currentUser:n})})]}):Object(u.jsx)(l,{login:function(e,t){fetch("http://localhost:3000/login",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user:{username:"".concat(e),password:"".concat(t)}})}).then((function(e){e.ok?e.json().then((function(e){console.log("hi"+e.jwt),r(e.user),h(!0),localStorage.setItem("jwt",e.jwt)})):console.log("wrong username/password")}))},signup:function(e,t,n){fetch("http://localhost:3000/users",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user:{username:"".concat(e),password:"".concat(t),avatar:"".concat(n)}})}).then((function(e){e.ok?e.json().then((function(e){r(e.user),h(!0),localStorage.setItem("jwt",e.jwt)})):console.log("form incorrectly filled out")}))}})})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,31)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(m,{})}),document.getElementById("root")),O()}},[[30,1,2]]]);
//# sourceMappingURL=main.4b15bd5e.chunk.js.map